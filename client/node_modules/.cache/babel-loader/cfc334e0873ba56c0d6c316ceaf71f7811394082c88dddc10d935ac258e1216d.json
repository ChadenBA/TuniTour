{"ast":null,"code":"import { authAction } from '../slices/authslice';\nimport request from '../../utils/request';\nimport { toast } from \"react-toastify\";\n\n//login admin \nexport function loginAdmin(admin) {\n  return async dispatch => {\n    try {\n      //  const response = await fetch(\"http://localhost:8000/api/auth/adminLogin\",{\n      //     method:\"POST\",\n      //     body:JSON.stringify(admin),\n      //     headers:{\n      //         \"Content-Type\":\"application/json\"\n      //     }\n\n      //  });\n      //const data = await response.json();\n      //axios isted of fetch \n      const data = await request.post(\"/api/admin/auth/adminLogin\", admin);\n      localStorage.setItem(\"admininfo\", JSON.stringify(data));\n      dispatch(authAction.login(data));\n    } catch (error) {\n      toast.error(error.response.data.message);\n      console.log(error);\n    }\n  };\n}\n//logout admin \nexport function logoutAdmin(admin) {\n  return dispatch => {\n    dispatch(authAction.logout());\n    localStorage.removeItem(\"admininfo\");\n  };\n}","map":{"version":3,"names":["authAction","request","toast","loginAdmin","admin","dispatch","data","post","localStorage","setItem","JSON","stringify","login","error","response","message","console","log","logoutAdmin","logout","removeItem"],"sources":["/home/chaden/Téléchargements/ttour-main/client/src/redux/apiCalls/authApiCalls.js"],"sourcesContent":["import { authAction } from '../slices/authslice'\nimport request  from '../../utils/request'\nimport { toast } from \"react-toastify\"\n\n\n//login admin \nexport function loginAdmin(admin){\n    return async(dispatch)=>{\n        try{\n    //  const response = await fetch(\"http://localhost:8000/api/auth/adminLogin\",{\n    //     method:\"POST\",\n    //     body:JSON.stringify(admin),\n    //     headers:{\n    //         \"Content-Type\":\"application/json\"\n    //     }\n\n    //  });\n    //const data = await response.json();\n     //axios isted of fetch \n    const data=await request.post(\"/api/admin/auth/adminLogin\" , admin)\n     localStorage.setItem(\"admininfo\",JSON.stringify(data))\n     dispatch(authAction.login(data))\n        }catch(error){\n           toast.error(error.response.data.message)\n           console.log(error)\n        }\n\n    }\n}\n//logout admin \nexport function logoutAdmin(admin){\n    return (dispatch)=>{\n        dispatch(authAction.logout());\n        localStorage.removeItem(\"admininfo\"); \n    }\n}\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,qBAAqB;AAChD,OAAOC,OAAO,MAAO,qBAAqB;AAC1C,SAASC,KAAK,QAAQ,gBAAgB;;AAGtC;AACA,OAAO,SAASC,UAAUA,CAACC,KAAK,EAAC;EAC7B,OAAO,MAAMC,QAAQ,IAAG;IACpB,IAAG;MACP;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACC;MACD,MAAMC,IAAI,GAAC,MAAML,OAAO,CAACM,IAAI,CAAC,4BAA4B,EAAGH,KAAK,CAAC;MAClEI,YAAY,CAACC,OAAO,CAAC,WAAW,EAACC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAC;MACtDD,QAAQ,CAACL,UAAU,CAACY,KAAK,CAACN,IAAI,CAAC,CAAC;IAC7B,CAAC,QAAMO,KAAK,EAAC;MACVX,KAAK,CAACW,KAAK,CAACA,KAAK,CAACC,QAAQ,CAACR,IAAI,CAACS,OAAO,CAAC;MACxCC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACrB;EAEJ,CAAC;AACL;AACA;AACA,OAAO,SAASK,WAAWA,CAACd,KAAK,EAAC;EAC9B,OAAQC,QAAQ,IAAG;IACfA,QAAQ,CAACL,UAAU,CAACmB,MAAM,CAAC,CAAC,CAAC;IAC7BX,YAAY,CAACY,UAAU,CAAC,WAAW,CAAC;EACxC,CAAC;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}