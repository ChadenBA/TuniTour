{"ast":null,"code":"var _jsxFileName = \"/home/chaden/T\\xE9l\\xE9chargements/ttour-main/client/src/components/adminComponent/category.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useReducer } from \"react\";\nimport \"../../Styles/Endroit.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport { useDispatch } from \"react-redux\";\nimport swal from \"sweetalert\";\nimport { updateCategory, deleteCategory } from \"../../redux/apiCalls/categoryApiCall\";\nimport FormControl from '@material-ui/core/FormControl';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Box from '@material-ui/core/Box';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CategoryCard(_ref) {\n  _s();\n  let {\n    category\n  } = _ref;\n  const [reducer, forceUpdate] = useReducer(x => x + 1, 0);\n  const dispatch = useDispatch();\n  const [isEditing, setIsEditing] = useState(false);\n  const [title, setTitle] = useState(\"\");\n\n  // update category \n  const formSubmitHandler = e => {\n    e.preventDefault();\n    dispatch(updateCategory({\n      title\n    }, category === null || category === void 0 ? void 0 : category._id), [reducer]);\n    setIsEditing(false);\n    forceUpdate();\n  };\n\n  // // Delete Category Handler\n  const deleteCategoryHandler = () => {\n    swal({\n      title: \"Are you sure?\",\n      text: \"Once deleted, you will not be able to recover this category!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(willDelete => {\n      if (willDelete) {\n        dispatch(deleteCategory(category === null || category === void 0 ? void 0 : category._id), [reducer]);\n        forceUpdate();\n      } else {\n        swal(\"Something went wrong!\");\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      maxWidth: 345\n    },\n    className: \"category-card\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      theme: \"colored\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }, this), !isEditing && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          gutterBottom: true,\n          variant: \"h5\",\n          component: \"div\",\n          children: category === null || category === void 0 ? void 0 : category.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), !category.readOnly && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(CardActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            onClick: () => {\n              setIsEditing(true);\n              setTitle(category === null || category === void 0 ? void 0 : category.title);\n            },\n            startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 27\n            }, this),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            onClick: deleteCategoryHandler,\n            startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 20\n            }, this),\n            children: \" Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 16\n        }, this)\n      }, void 0, false)]\n    }, void 0, true), isEditing && /*#__PURE__*/_jsxDEV(FormControl, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        sx: {\n          '& > :not(style)': {\n            m: 1\n          }\n        },\n        noValidate: true,\n        autoComplete: \"off\",\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          onChange: e => setTitle(e.target.value),\n          type: \"text\",\n          className: \"form-control form-control-sm\",\n          value: title,\n          placeholder: \"title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        type: \"submit\",\n        onClick: formSubmitHandler,\n        children: \" Save \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        onClick: () => setIsEditing(false),\n        children: \"  Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(CategoryCard, \"6wgKm8T7lR/BkDV37o3sypLtW6s=\", false, function () {\n  return [useDispatch];\n});\n_c = CategoryCard;\nexport default CategoryCard;\nvar _c;\n$RefreshReg$(_c, \"CategoryCard\");","map":{"version":3,"names":["React","useState","useReducer","ToastContainer","useDispatch","swal","updateCategory","deleteCategory","FormControl","Card","CardActions","CardContent","Button","Typography","TextField","Box","DeleteIcon","EditIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","CategoryCard","_ref","_s","category","reducer","forceUpdate","x","dispatch","isEditing","setIsEditing","title","setTitle","formSubmitHandler","e","preventDefault","_id","deleteCategoryHandler","text","icon","buttons","dangerMode","then","willDelete","sx","maxWidth","className","children","theme","fileName","_jsxFileName","lineNumber","columnNumber","gutterBottom","variant","component","readOnly","size","onClick","startIcon","m","noValidate","autoComplete","autoFocus","onChange","target","value","type","placeholder","_c","$RefreshReg$"],"sources":["/home/chaden/Téléchargements/ttour-main/client/src/components/adminComponent/category.js"],"sourcesContent":["import React, { useState , useReducer} from \"react\"\nimport \"../../Styles/Endroit.css\"\nimport {ToastContainer} from \"react-toastify\"\nimport {useDispatch} from \"react-redux\"\nimport swal from \"sweetalert\"\nimport {updateCategory,deleteCategory} from \"../../redux/apiCalls/categoryApiCall\"\n\n\nimport FormControl from '@material-ui/core/FormControl';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport  TextField from '@material-ui/core/TextField';\nimport  Box from '@material-ui/core/Box';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\n\nfunction  CategoryCard ({category}) {\n  const [reducer , forceUpdate]=useReducer(x=>x+1,0)\n\n  const dispatch=useDispatch();\n  const [isEditing, setIsEditing] = useState(false)\n  const [title, setTitle] = useState(\"\")\n  \n // update category \n const formSubmitHandler = (e) => {\n  e.preventDefault();\n  dispatch(updateCategory({title},category?._id),[reducer])\n   setIsEditing(false);\n   forceUpdate();\n  };\n\n  // // Delete Category Handler\n  const deleteCategoryHandler = () => {\n    swal({\n       title: \"Are you sure?\",\n      text: \"Once deleted, you will not be able to recover this category!\",\n      icon: \"warning\",\n       buttons: true,\n       dangerMode: true,\n    }).then((willDelete) => {\n     if (willDelete) {\n       dispatch(deleteCategory(category?._id),[reducer])\n       forceUpdate();\n       \n     } else {\n        swal(\"Something went wrong!\");\n      }\n    });\n  };\n\n  return (\n\n    <Card sx={{ maxWidth: 345 }} className=\"category-card\">\n    <ToastContainer theme=\"colored\"></ToastContainer>  \n         {!isEditing && (\n            <>\n            <CardContent>\n        <Typography gutterBottom variant=\"h5\" component=\"div\">\n        {category?.title}\n        </Typography>\n        </CardContent>\n        {!category.readOnly && (\n              <>\n               <CardActions>\n        <Button size=\"small\"\n        onClick={() => {\n                setIsEditing(true)\n                setTitle(category?.title)\n               }}\n               startIcon={<EditIcon/> }>Edit</Button>\n        <Button size=\"small\"\n        onClick={deleteCategoryHandler}\n        startIcon={<DeleteIcon />}> Delete</Button>\n      </CardActions>\n     \n      </>\n              \n        )}\n           </>\n         )}\n      \n      {isEditing && (\n        <FormControl >\n        <Box\n      component=\"form\"\n      sx={{\n        '& > :not(style)': { m: 1 },\n      }}\n      noValidate\n      autoComplete=\"off\"\n    >\n      <TextField\n     autoFocus onChange={e => setTitle(e.target.value)} type=\"text\" className=\"form-control form-control-sm\" value={title} placeholder=\"title\"\n       />\n       \n       </Box>\n      <Button \n        size=\"small\"  type=\"submit\"\n         onClick={formSubmitHandler}> Save </Button>{\" \"}\n      <Button size=\"small\"\n       onClick={() => setIsEditing(false)}  >  Cancel</Button>\n      </FormControl>\n      )}\n    </Card> \n  )\n}\nexport default CategoryCard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}